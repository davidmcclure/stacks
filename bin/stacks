#!/usr/bin/env python


import click
import os

from blessings import Terminal

from stacks.ext.corpus import Corpus as ExtCorpus


term = Terminal()


@click.group()
def cli():
    pass


@cli.command()
@click.argument('corpus')
@click.argument('identifier')
def get_path(corpus, identifier):

    """
    Translate a corpus / identifier pair into a JSON path. If a corresponding
    JSON file exists, print the path in green, otherwise red.
    """

    ext_corpus = ExtCorpus.from_env()

    path = ext_corpus.text_path(corpus, identifier)

    if os.path.isfile(path):
        print(term.green(path))

    else:
        print(term.red(path))


if __name__ == '__main__':
    cli()
